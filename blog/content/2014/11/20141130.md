Title: 2014-11-30
Date: 2014-11-30 22:50
Category: 2014
Tags: 201411, hbase
Author: laomie
Summary: hbase安装

建目录
---------------------------------
```bash
$ hdfs dfs -mkdir -p /hbase
$ mkdir -p $HBASE_HOME/zookeeper
```

设置".bashrc"
------------------------
```bash
export HBASE_HOME='/usr/local/tools/hbase'
export PATH=$PATH:$HBASE_HOME/bin
```

设置"conf/hbase-env.sh"
------------------------
```bash
export JAVA_HOME=/usr/lib/jvm/java-8-oracle
export HBASE_REGIONSERVERS=${HBASE_HOME}/conf/regionservers
export HBASE_MANAGES_ZK=true
```

设置"conf/hbase-site.xml" (for pseudo-distributed)
--------------------------------
```xml
<property>
    <name>hbase.rootdir</name>
    <value>hdfs://192.168.18.6:9000/hbase</value>
</property>
<property>
    <name>hbase.cluster.distributed</name>
    <value>true</value>
</property>
<property>
    <name>hbase.zookeeper.quorum</name>
    <value>192.168.18.6</value>
</property>
<property>
    <name>dfs.replication</name>
    <value>1</value>
</property>
<property>
    <name>hbase.zookeeper.property.clientPort</name>
    <value>2181</value>
</property>
<property>
    <name>hbase.zookeeper.property.dataDir</name>
    <value>/usr/local/tools/hbase/zookeeper</value>
</property>
```

复制hadoop的jar
-----------------------
```bash
$ cd $HBASE_HOME/lib
$ rm -fr slf4j*.jar
$ rm -fr hadoop*.jar
$ cp $HADOOP_HOME/share/hadoop/common/hadoop*.jar .
$ cp $HADOOP_HOME/share/hadoop/hdfs/hadoop*.jar .
$ cp $HADOOP_HOME/share/hadoop/mapreduce/hadoop*.jar .
$ cp $HADOOP_HOME/share/hadoop/tools/lib/hadoop*.jar .
$ cp $HADOOP_HOME/share/hadoop/yarn/hadoop*.jar .
```

修改"/etc/hosts"
------------------------
将"127.0.1.1"改为"127.0.0.1"或删除

启动，停止hbase
---------------------
```bash
$ start-hbase.sh
$ stop-hbase.sh
```

hbase简单操作
-----------------------
```bash
$ hbase shell

# create a table
hbase> create 'test', 'cf'

# list information about your table
hbase> list 'test'

# put data into your table
hbase> put 'test', 'row1', 'cf:a', 'value1'
hbase> put 'test', 'row2', 'cf:b', 'value2'
hbase> put 'test', 'row3', 'cf:c', 'value3'

# scan the table for all data at once
hbase> scan 'test'

# get a single row of data
hbase> get 'test', 'row1'

# disable, enable table
hbase> disable 'test'
hbase> enable 'test'

# drop the table
hbase> drop 'test'

# exit the hbase shell
hbase> quit
```

references
------------------------
* <https://archanaschangale.wordpress.com/2013/08/31/installing-pseudo-distributed-hbase-on-ubuntu/>
* <http://hbase.apache.org/book/quickstart.html>
* <http://www.cnblogs.com/junrong624/p/3564699.html>

